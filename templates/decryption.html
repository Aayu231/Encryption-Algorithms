{% extends 'base.html'%}

{% block content%}
<div class="container" style="height:85vh;display:flex;flex-direction:column;justify-content:center;">
<div class="card text-center col-lg-12 col-sm-12 mx-auto my-auto">
  <div class="card-header">
    <h4 class="text-uppercase text-success">Decryption Algorithms</h4>
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="caesar-tab" data-bs-toggle="tab" data-bs-target="#caesar" type="button" role="tab" aria-controls="caesar" aria-selected="true">Caesar</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="multiplicative-tab" data-bs-toggle="tab" data-bs-target="#multiplicative" type="button" role="tab" aria-controls="multiplicative" aria-selected="false">Multiplicative</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="affine-tab" data-bs-toggle="tab" data-bs-target="#affine" type="button" role="tab" aria-controls="affine" aria-selected="false">Affine</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="autokey-tab" data-bs-toggle="tab" data-bs-target="#autokey" type="button" role="tab" aria-controls="autokey" aria-selected="false">Autokey</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="playfair-tab" data-bs-toggle="tab" data-bs-target="#playfair" type="button" role="tab" aria-controls="playfair" aria-selected="false">Play Fair</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="vigenere-tab" data-bs-toggle="tab" data-bs-target="#vigenere" type="button" role="tab" aria-controls="vigenere" aria-selected="false">Vigenere</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="keylesstrans-tab" data-bs-toggle="tab" data-bs-target="#keylesstrans" type="button" role="tab" aria-controls="keylesstrans" aria-selected="false">Keyless Transposition</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="coltrans-tab" data-bs-toggle="tab" data-bs-target="#coltrans" type="button" role="tab" aria-controls="coltrans" aria-selected="false">Columnar Transposition</button>
    </li>
  </ul>
</div>

<div class="card-body">
  <div class="tab-content" id="myTabContent">
    <!-- caesar Cipher Form starts here -->
    <div class="tab-pane fade show active" id="caesar" role="tabpanel" aria-labelledby="caesar-tab">
        <form class="col-8 mx-auto" id="caesar-form">
          <h2>Caesar Decipher</h2>
            <input type="text" class="form-control m-3" placeholder="Enter Cipher Text" id="caesar-ciphertext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="number" class="form-control" placeholder="Enter Numeric Key" max="999" min="0" aria-describedby="Decrypt" id="caesar-key" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <!-- <input type="text" value="Hello World" id="myInput"> -->
          <table class="col-8 m-3 mx-auto text-center" style="display:none" id="caesar-table">
            <tr>
              <td>Decrypted Text</td>
              <td><div id="caesar-output" class="form-control"></div></td>
              <td><button onclick="myFunction('caesar-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
            </tr>
          </table>
      </div>
    <!-- Multiplicative Cipher Form starts here -->
    <div class="tab-pane fade" id="multiplicative" role="tabpanel" aria-labelledby="multiplicative-tab">
      <form class="col-8 mx-auto" id="mult-form">
        {{ csrf_token }}
        <h2>Multiplicative Decipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" name="plainText" id = "mult-plaintext" pattern="[a-z A-Z]+" required>
        <div class="input-group m-3">
          <input type="number" class="form-control" placeholder="Enter Numeric Key" max="999" min="0" aria-describedby="Decrypt" id="mult-key" required>
          <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
        </div>
      </form>
      <table class="col-8 m-3 mx-auto text-center" style="display:none" id="mult-table">
        <tr>
          <td>Decrypted Text</td>
          <td><div id="mult-output" class="form-control"></div></td>
          <td><button onclick="myFunction('mult-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
        </tr>
      </table>
    </div>      
    <!-- Affine Cipher Form starts here -->
    <div class="tab-pane fade" id="affine" role="tabpanel" aria-labelledby="affine-tab">
      <form id="affine-form" class="col-8 mx-auto">
        {{ csrf_token }}
        <h2>Affine Cipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" name="plainText" id = "affine-plaintext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="number" class="form-control" placeholder="Enter Multiplication Key" max="999" min="0" id = "affine_key1" aria-describedby="Decrypt" name="key1" required>
            <input type="number" class="form-control" placeholder="Enter Addition Key" max="999" min="0" id = "affine_key2" aria-describedby="Decrypt" name="key2" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <table class="col-8 m-3 mx-auto text-center" style="display:none" id="affine-table">
          <tr>
            <td>Decrypted Text</td>
            <td><div id="affine-output" class="form-control"></div></td>
            <td><button onclick="myFunction('affine-output')" class="btn btn-secondary">Copy to Clipboard</button></td>
          </tr>
        </table>
      </div>
    <!-- Autokey Cipher Form starts here -->   
    <div class="tab-pane fade" id="autokey" role="tabpanel" aria-labelledby="autokey-tab">
    <form class="col-8 mx-auto" id = "autokey-form">
      {{ csrf_token }}
      <h2>AutoKey Cipher</h2>
        <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" name="plainText" id = "autokey-plaintext" pattern="[a-z A-Z]+" required>
        <div class="input-group m-3">
          <input type="text" class="form-control" placeholder="Enter Numeric Key" aria-describedby="Decrypt" id = "autokey-key" name="key" required>
          <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
        </div>
      </form>
      <table class="col-8 m-3 mx-auto text-center" style="display:none" id="autokey-table">
        <tr>
          <td>Decrypted Text</td>
          <td><div id="autokey-output" class="form-control"></div></td>
          <td><button onclick="myFunction('autokey-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
        </tr>
      </table>
    </div>
    <!-- PlayFair Cipher Form starts here -->
    <div class="tab-pane fade" id="playfair" role="tabpanel" aria-labelledby="playfair-tab">
      <form class="col-8 mx-auto" id="playfair-form">
        {{ csrf_token }}
        <h2>Playfair Cipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" id = "playfair_plaintext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="text" class="form-control" placeholder="Enter Keyword" aria-describedby="Decrypt" id = "playfair_keyword" pattern="[a-z A-Z]+" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <table class="col-8 m-3 mx-auto text-center" style="display:none" id="playfair-table">
          <tr>
            <td>Message</td>
            <td colspan='2'><span id="playfair-message">test<br>test</span></td>
          </tr>
          <tr>
            <td>key Matrix</td>
            <td colspan='2'>
              <hr>
              <span id="playfair-keymatrix1"></span><br>
              <span id="playfair-keymatrix2"></span><br>
              <span id="playfair-keymatrix3"></span><br>
              <span id="playfair-keymatrix4"></span><br>
              <span id="playfair-keymatrix5"></span><br>
              <hr>
            </td>
          </tr>
          <tr>
            <td>Decrypted Text</td>
            <td><div id="playfair-output" class="form-control"></div></td>
            <td><button onclick="myFunction('playfair-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
          </tr>
        </table>
      </div>


    <!-- Vigenere Cipher Form starts here -->
    <div class="tab-pane fade" id="vigenere" role="tabpanel" aria-labelledby="vigenere-tab">
      <form class="col-8 mx-auto" id="vigenere-form">
        {{ csrf_token }}
        <h2>Vigenere Cipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" id = "vigenere_plaintext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="text" class="form-control" placeholder="Enter Keyword" aria-describedby="Decrypt" id = "vigenere_keyword" pattern="[a-z A-Z]+" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <table class="col-8 m-3 mx-auto text-center" style="display:none" id="vigenere-table">
          <tr>
            <td>Decrypted Text</td>
            <td><div id="vigenere-output" class="form-control"></div></td>
            <td><button onclick="myFunction('vigenere-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
          </tr>
        </table>
      </div>


    <!-- Keyless Transposition Cipher Form starts here -->
    <div class="tab-pane fade" id="keylesstrans" role="tabpanel" aria-labelledby="keylesstrans-tab">
      <form class="col-8 mx-auto" id="keylesstrans-form">
        {{ csrf_token }}
        <h2>Keyless Transposition Cipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" id = "keylesstrans_plaintext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="number" class="form-control" placeholder="Enter Block Size" aria-describedby="Decrypt" id = "keylesstrans_block" max="99" min="2" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <table class="col-8 m-3 mx-auto text-center" style="display:none" id="keylesstrans-table">
          <tr>
            <td>Message</td>
            <td colspan='2'><span id="keylesstrans-message">test<br>test</span><hr></td>
          </tr>
          
          <tr>
            <td>Decrypted Text</td>
            <td><div id="keylesstrans-output" class="form-control"></div></td>
            <td><button onclick="myFunction('keylesstrans-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
          </tr>
        </table>
      </div>

    <!-- Columnar Transposition Cipher Form starts here -->
    <div class="tab-pane fade" id="coltrans" role="tabpanel" aria-labelledby="coltrans-tab">
      <form class="col-8 mx-auto" id="coltrans-form">
        {{ csrf_token }}
        <h2>Keyless Transposition Cipher</h2>
          <input type="text" class="form-control m-3" aria-label="With textarea" placeholder="Enter Plain Text" id = "coltrans_plaintext" pattern="[a-z A-Z]+" required>
          <div class="input-group m-3">
            <input type="number" class="form-control" placeholder="Enter Columnar key (Example : 54321)" aria-describedby="Decrypt" id = "coltrans_key" max="999999999" min="22" required>
            <button class="btn btn-outline-primary" type="submit" id="Decrypt">Decrypt</button>
          </div>
        </form>
        <h6 class="text-danger" id='coltrans-error'></h6>
        <table class="col-8 m-3 mx-auto text-center" style="display:none" id="coltrans-table">
          <tr>
            <td>Message</td>
            <td colspan='2'><span id="coltrans-message">test<br>test</span><hr></td>
          </tr>
          
          <tr>
            <td>Decrypted Text</td>
            <td><div id="coltrans-output" class="form-control"></div></td>
            <td><button onclick="myFunction('coltrans-output')" class="btn btn-secondary display-hidden">Copy to Clipboard</button></td>
          </tr>
        </table>
      </div>
  </div>
</div>
<div class="card-footer text-center">
  <p class="text-danger"> * Please don't enter any special characters or numbers in plain text!</p>
</div>
</div>
{%endblock content%}

{% block scripts %}
<script>

</script>
<script type="text/javascript" src="{{ url_for('static', filename='js/decryption.js') }}"></script>
{% endblock scripts %}